
{% block content %}
	<div class="main-content d-flex flex-column min-vh-100">
		<div class="container py-5">
			<main>
				<div class="mx-auto max-w-4xl py-7 px-7">
					<h5 class="fw-bold mb-4">Edit Reservation</h5>

					<form
						method="POST" action="{{ base_url('/reservation/update') }}">
						{# CSRF Token #}
						<input type="hidden" name="{{ csrf_token() }}" value="{{ csrf_hash() }}">
						<input
						type="hidden" name="id" value="{{ reservation.id }}">

						{# Hotel Code #}
						<div class="mb-4">
							<label>Hotel Code</label>
							<input type="text" name="hotel_code" value="{{ reservation.hotel_code }}" class="form-control" required>
						</div>

						{# Hotel Dropdown #}
						<div class="mb-4">
							<label>Hotel</label>
							<select name="hotel_id" class="form-control" required>
								<option value="">Select Hotel</option>
								{% for hotel in hotels %}
									<option value="{{ hotel.id }}" {% if hotel.id == reservation.hotel_id %} selected {% endif %}>
										{{ hotel.hotel_name }}
									</option>
								{% endfor %}
							</select>
						</div>

						{# Room Dropdown #}
						<div class="mb-4">
							<label>Room</label>
							<select name="room_id" class="form-control" required>
								<option value="">Select Room</option>
								{% for room in rooms %}
									<option value="{{ room.id }}" {% if room.id == reservation.room_id %} selected {% endif %}>
										Room #{{ room.id }}
									</option>
								{% endfor %}
							</select>
						</div>

						{# Discount Dropdown #}
						<div class="mb-4">
							<label>Discount</label>
							<select name="discount_id" class="form-control">
								<option value="">No Discount</option>
								{% for discount in discounts %}
									<option value="{{ discount.id }}" {% if discount.id == reservation.discount_id %} selected {% endif %}>
										{{ discount.discount_name }}
									</option>
								{% endfor %}
							</select>
						</div>

						{# Check In #}
						<div class="mb-4">
							<label>Check In</label>
							<input type="date" name="check_in" value="{{ reservation.check_in }}" class="form-control" required>
						</div>

						{# Check Out #}
						<div class="mb-4">
							<label>Check Out</label>
							<input type="date" name="check_out" value="{{ reservation.check_out }}" class="form-control" required>
						</div>

						{# Status Dropdown #}
						<div class="mb-4">
							<label>Status</label>
							<select name="status" class="form-control" required>
								<option value="active" {% if reservation.status == 'active' %} selected {% endif %}>Active</option>
								<option value="completed" {% if reservation.status == 'completed' %} selected {% endif %}>Completed</option>
								<option value="cancelled" {% if reservation.status == 'cancelled' %} selected {% endif %}>Cancelled</option>
							</select>
						</div>

						{# Buttons #}
						<div class="d-flex justify-content-end gap-3">
							<a href="{{ base_url('/reservation') }}" class="btn btn-secondary">Cancel</a>
							<button type="submit" class="btn btn-success">Update Reservation</button>
						</div>

					</form>
				</div>
			</main>
		</div>
	</div>
{% endblock %}
